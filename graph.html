<!DOCTYPE html>
<html>
<head>
    <title>Neovis.js 近似布局配置</title>
    <script src="https://unpkg.com/neo4j-driver@4.4.5/lib/browser/neo4j-web.min.js"></script>
    <script src="https://unpkg.com/neovis.js@2.0.2"></script>
    <style>
        #viz {
            width: 100%;
            height: 600px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <div id="viz"></div>
    <script>
        const config = {
            container_id: "viz",
            neo4j: {
                serverUrl: "bolt://localhost:7687", // 请替换为您的数据库地址
                serverUser: "neo4j", // 请替换为您的用户名
                serverPassword: "your_password", // 请替换为您的密码
                driverConfig: {
                    encrypted: "ENCRYPTION_OFF", // 根据您的Neo4j版本配置
                    trust: "TRUST_ALL_CERTIFICATES"
                }
            },
            labels: {
                // 根据您的节点标签配置样式
                "Person": {
                    label: "name",
                    value: "pagerank", // 用于节点大小
                    group: "community" // 用于节点颜色分组
                }
            },
            relationships: {
                // 根据您的关系类型配置样式
                "KNOWS": {
                    value: "weight" // 用于关系粗细
                }
            },
            initial_cypher: "MATCH (n)-[r]->(m) RETURN n, r, m LIMIT 100", // 您的查询语句
            visConfig: {
                // 布局相关核心配置
                layout: {
                    improvedLayout: true, // 启用改进的布局算法
                    hierarchical: {
                        enabled: false // 禁用分层布局，即启用力导向布局
                        // 如果启用分层布局，可设置：enabled: true, sortMethod: "directed"
                    }
                },
                physics: {
                    enabled: true // 启用物理模拟，节点会自动排布
                },
                nodes: {
                    shape: "dot",
                    size: 25,
                    font: {
                        size: 14
                    }
                },
                edges: {
                    arrows: {
                        to: { enabled: true } // 关系指向箭头
                    },
                    font: {
                        size: 12,
                        align: "middle"
                    }
                }
            }
        };

        // 初始化并渲染可视化
        const viz = new NeoVis(config);
        viz.render();
    </script>
</body>
</html>